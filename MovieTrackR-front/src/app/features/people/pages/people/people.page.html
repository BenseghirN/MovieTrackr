<div class="people-page">
  <!-- Page Header -->
  <header class="page-header">
    <h1>Recherche de personnes</h1>
    <p class="subtitle">Acteurs, réalisateurs, scénaristes... trouvez vos talents préférés</p>
  </header>

  <!-- Search Panel -->
  <div class="search-panel">
    <div class="search-bar">
      <div class="search-input-wrapper">
        <i class="pi pi-search"></i>
        <input
          type="text"
          pInputText
          placeholder="Rechercher une personne..."
          [value]="searchQuery()"
          (input)="onQueryChange($event)"
          (keyup)="onSearchKeyUp($event)"
          class="search-input"
        />
      </div>
      <p-button
        label="Rechercher"
        icon="pi pi-search"
        styleClass="search-btn"
        (onClick)="currentPage.set(1); search()"
        [loading]="loading()"
      />
    </div>
  </div>

  <!-- Loading State -->
  @if (loading()) {
    <div class="loading-container">
      <p-progressSpinner strokeWidth="3" animationDuration="1s" />
    </div>
  }

  <!-- Error State -->
  @if (error()) {
    <div class="error-message">
      <i class="pi pi-exclamation-triangle"></i>
      <span>{{ error() }}</span>
    </div>
  }

  <!-- No Results -->
  @if (showNoResults()) {
    <div class="no-results">
      <i class="pi pi-users"></i>
      <div class="no-results-content">
        <p>Aucune personne trouvée pour</p>
        <span class="search-term">"{{ searchQuery() }}"</span>
      </div>
    </div>
  }

  <!-- Results -->
  @if (hasResults()) {
    <div class="results-header">
      <span class="results-count">
        <strong>{{ totalResults() }}</strong> résultat(s) trouvé(s)
      </span>
    </div>

    <div class="people-grid">
      @for (person of people(); track person.tmdbId) {
        <app-person-card
          [person]="person"
          (personClick)="onPersonClick(person)"
        />
      }
    </div>

    <div class="paginator-wrapper">
      <p-paginator
        [rows]="pageSize()"
        [totalRecords]="totalResults()"
        [first]="(currentPage() - 1) * pageSize()"
        [rowsPerPageOptions]="[10, 20, 50]"
        (onPageChange)="onPageChange($event)"
        styleClass="custom-paginator"
      />
    </div>
  }

  <!-- Empty State (no search yet) -->
  @if (!loading() && !searchQuery() && !hasResults()) {
    <div class="empty-state">
      <div class="empty-icon">
        <i class="pi pi-users"></i>
      </div>
      <h2>Découvrez des talents</h2>
      <p>Recherchez acteurs, réalisateurs et autres professionnels du cinéma</p>
    </div>
  }
</div>